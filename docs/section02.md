# 섹션 2. 도메인 분석 설계

## 요구사항 분석

- 회원 기능: 회원 등록/조회  


- 상품 기능: 상품 등록/수정/조회  


- 주문 기능: 상품 등록/수정/조회


- 기타 요구사항 
  - 상품은 재고 관리가 필요
  - 상품 종류: 도서, 음반, 영화
  - 상품을 카테고리로 구분 가능
  - 상품 주문 시 배송 정보 입력

## 도메인 모델과 테이블 설계 
[실전! 스프링 부트와 JPA 활용1 강의 자료]
![image](https://github.com/yeondori/inflearn-jpashop/assets/93027942/35ea49c1-fc6f-4760-8525-38d036973075)
![image](https://github.com/yeondori/inflearn-jpashop/assets/93027942/09c52b56-5b85-4557-8150-1849d02d81d4)

학습 목적으로 JPA에서 표현할 수 있는 모든 관계를 활용하는 방식의 설계이다.
그러나 실무에서 다대다는 [JPA 기본편](https://yeondori.github.io/posts/jpa-basic-06/#%EB%8B%A4%EB%8C%80%EB%8B%A4-nn)에서 언급한 것처럼 사용하지 않는 것이 좋다.
양방향 연관관계를 사용하는 것도 지양하는 것이 좋으나 학습을 위해 추가되어 있다.  

> 회원과 주문에서, 회원이 주문을 하므로 ordersList를 생각할 수 있으나 시스템 자체에서는 회원과 주문을 동일선상에 두어야 한다.
 회원을 통해 주문을 하는 것이 아니고 주문을 생성할 때 회원이 필요하다고 생각해야 한다.  
 쿼리 시에도 주문 내역이 필요한 경우 멤버의 orderList를 살펴보는 게 아니라 주문에서 필터링 조건으로 멤버를 찾는 것이 바람직한 것 처럼 말이다. 

객체에서는 양쪽 다 컬렉션을 가져 다대다를 만들 수 있으나, 관계형 데이터베이스에서는 매핑테이플로 다대다 관계를 일대다, 다대일 관계로 풀어야 한다.


